
## 6. 갑작스러운 네트워크 끊김에서 복귀하기(가상터미널)

- GNOME 단말(터미널)은 데스크톱 환경에서 콘솔 환경을 들여다보는 창
- 가상단말은 콘솔환경에서 GNOME 단말이 하는 것과 같은 걸 하는 애플리케이션
- tmux는 여러 가상단말 중 하나
- SSH로 서버에 접속했으면 바로 tmux 명령어 실행 

```
$ tmux
```

- 명령어 찾지 못했다고 나오면 sudo apt-get install tmux로 설치
- 서버에서 접속이 끊긴다면 SSH로 다시 서버에 접속해서 tmux attach 명령어 입력하면 접속이 끊기기 전 상태로 돌아온다.

```
$ tmux attach
```

<--->  &nbsp;   (입출력)  (GNOME 단말 | ssh ) &nbsp; (출력) &nbsp; <-----------> &nbsp; (입력) &nbsp; (tmux(가상단말) | vim)

- 가상 단말은 GNOME 단말처럼 키 입력 조작을 받아서 건너편인 다른 콘솔 애플리케이션에 넘기고 결과를 받는다.
- SSH 접속한 서버에서 실행하면 새로운 중계 포인트가 된다.
- 가상단말은 일반 애플리케이션과 달리 SSH 접속이 끊긴 사용자가 로그아웃 되더라도 계속 동작한다
- tmux attach 를 실행하면 서버에 남아있는 tmux 가상단말에 다시 접속핳 수 있다.

- Ctrl + B 다음 D 입력하면 스스로 tmux 화면에서 빠져나올 수 있다
- tmux 접속하기전의 SSH 접속 상태로 돌아가니까 exit로 안전하게 로그아웃 할 수 있다.
- tmux 자체의 기능을 사용할 때는 Ctrl + B를 누른 다음에 실제로 작업하고 싶은 키를 누른다.
- 이미 존재하는 다른 조작법과 헷갈리지 않게 하기 위해서 ,
    - Ctrl + B 다음 C  : GNOME 단말의 새로운 탭을 열기 같은 것.
    - Ctrl + B 다음 N : 다음 화면으로
    - Ctrl + B 다음 P : 이전 화면으로 전환
- GNOME 단말탭이라면 그때마다 SSH 접속한다. 따라서 그 때마다 인증해야 한다.
- 서버에서 tmux로 여러가지 화면을 사용한다면 SSH 접속은 처음 한번만 하면 끝난다.
-------
  
 
### Reference
  
  - [만화로 배우는 리눅스 시스템 관리](http://www.yes24.com/Product/Goods/32402055?Acode=101)
