## 3. 다양한 문자열을 한번에 검색하기 (grep)



* grep 명령어

  * global regular expression print
    * 파일 전체에서 정규 표현식과 일치하는 위치를 출력하라
  * **파일 내용**을 빠짐 없이 확인해서 찾는 문자열이 포함되었는지를 조사해준다.

  ~~~
  grep -r "검색하고 싶은 문자열" /home/docs
  ~~~

  * -r : 서브 폴더까지 검색하도록 지정
  * /home/docs/ : 찾을 파일이 있는 폴더 경로(검색 시작점)

  --------

* 정규표현식 (regular expression)

  * 특수한 기호를 써서 검색하고 싶은 내용을 유연하게 표현하는 서식
    * () : 그룹화
    * | : 좌우중 하나 
    * ? : 직전 표현이 0회 또는 1회 등장
    * *: 직전 표현이 0회 이상 연속해서 등장
    * +: 직전 포현이 1회 이상 연속해서 등장
    * . : 임의의 한 문자
    * ^ : 줄 머리
    * $ : 줄 끝

  -------

* 야메노 타로, 야메로 tarou, yameno 타로, yameno tarou 네가지 문자열을 모두 검색해야하는 경우

  * (야메노|yameno) (타로|tarou)
    * 두개의 그룹으로 만들어준다.

* 성과 이름 사이에 _스페이스_가 있는 경우와 없는 경우가 있다

  * 야메노 타로, 아메노타로

    —>이 경우에는 * 를 사용한다.

    * (야메노|yameno|YAMENO|Yameno) *(타로|tarou|TAROU|Tarou)
      * *앞에는 스페이스가 있는데 *를 사용하기 때문에 space가 있는 경우와 없는 경우를 모두 포함한다.
      * 예를들어 abc* 경우에는 c가 0번 이상 반복되는 경우를 검색한다
        * ab, abc, abcc

    —> ?를 사용해서도 해결할 수 있다

    * (야메노|yameno|YAMENO|Yameno) ?(타로|tarou|TAROU|Tarou)
      * 예를들어 abc?의 경우
        * ab, abc

  --------

* 정규 포현식을 사용하는 경우에는 -E 옵션을 쓴다

  ```
  grep -r -E "(야메노|yameno|YAMENO|Yameno) ?(타로|tarou|TAROU|Tarou)" /home/docs
  
  ```

  

* "YaMeNo TaRou"와 같이 대문자와 소문자가 같이 있는 문자열이 있을 때 대소문자 차이를 무시하고 검색하는 방법.

  —> 옵션을 사용한다

  * i는 ignore의 약어로 알파벳 대소문자 차이를 무시하고 검색하는 옵션이다/

  * 파일 내용을 대소문자 차이를 무시하고 검색

  * ~~~
    $grep -r -i "yameno tarou" 디렉터리 경로
    ~~~

  * 파일 내용을 대소문자 차이를 무시하고 정규 표현식으로 검색

  * ~~~
    $grep -r -i -E "((야메노) *(타로)|yameno +tarou)" 디렉토리 경로
    ~~~

  * +의 경우 직전표현이 1회 이상 반복되어야 한다.

    * 따라서 yameno , 스페이스 부분까지 1회 이상 반복되는 경우에 검색이 된다.
    * abc+의 경우
      * abc, abcc, abccc ….
  
  ------
  
  ### Reference
  
  - [만화로 배우는 리눅스 시스템 관리](http://www.yes24.com/Product/Goods/32402055?Acode=101)
  
    

